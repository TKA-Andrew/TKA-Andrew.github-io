<div fxLayout="column" fxLayoutGap="10px">
    <h1>Learning CMake</h1>

    <h2>Introduction</h2>
    <ul>
        <li>This tutorial will only cover the common usage of CMakeLists. </li>
        <li>In this tutorial, we will not make use of Visual Studio. We will only use Visual Studio Code and command
            prompt to build and run our program.</li>
    </ul>
    <mat-divider></mat-divider>

    <h2>Pre-requisites</h2>
    <h3>Static libraries & Dynamic libraries</h3>
    <ul>
        <li>When we want to use built libraries in our package, no matter is static library or dynamic library, we will
            need to include the respective header files (.h files) as well.</li>
        <table style="margin-top: 20px;">
            <tr>
                <th>Static libraries</th>
                <th>Dynamic libraries</th>
            </tr>
            <tr>
                <td>.lib (on Windows) & .a (on Linux) files</td>
                <td>.dll (on Windows) & .so (on Linux) files</td>
            </tr>
            <tr>
                <td>locked into program at compile-time</td>
                <td>loaded into program at run-time</td>
            </tr>
            <tr>
                <td>need to recompile if the code implementation changes</td>
                <td>only need to recompile when the function declarations change</td>
            </tr>
            <tr>
                <td>the executable file will be stable and untouched</td>
                <td>the executable file will be corrupted if the dynamic library is modified and corrupted</td>
            </tr>
            <tr>
                <td>faster execution time</td>
                <td>slower execution time</td>
            </tr>
            <tr>
                <td>increases the excutable file's size</td>
                <td>doesn't have much impact on the executable file's size</td>
            </tr>
        </table>
    </ul>

    <h3>What are header-only libraries and what are the pros and cons?</h3>
    <ul>
        <li>Header-only libraries are libraries where the entire library is implemented using header files only (no .lib
            and .dll files will be provided)</li>
        <li>What are the advantages?</li>
        <ul>
            <li>Header-only library is the only choice when dealing with C++ templates, because the compiler needs to
                know the full definition of the templates in order to instantiate.</li>
            <li>We do not need to build the library, and user doesn't need to compile our library before using it</li>
        </ul>
        <li>What are the disadvantages?</li>
        <ul>
            <li>Most probably will have increased compilation time</li>
            <li>if you change anything about the code in the header, then youâ€™ll need to recompile every file that
                includes that header</li>
            <li>Source code implementation is visible to user as it is written in the header file</li>
        </ul>
    </ul>
    <mat-divider></mat-divider>


    <h2>01 - Simple CMake</h2>
    <ul>
        <li>First of all, open Visual Studio Code and install the C++ extension</li>
        <img style="width: 80%;" src="assets/images/LearningCMake/learningCMake01.JPG">
        <li>Open a folder for this tutorial, and create these files/folders:</li>
        <ul>
            <li>
                <mat-accordion>
                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                CMakeLists.txt
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <pre>
                                  <code>
    cmake_minimum_required(VERSION 3.16.3)

    project(learning_cmake) # PROJECT_NAME
    
    add_executable($&#123;PROJECT_NAME} src/main.cpp src/adder.cpp)
                                  </code>
                              </pre>
                    </mat-expansion-panel>
                </mat-accordion>
            </li>
            <li>
                <mat-accordion>
                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                src
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <ul>
                            <li>
                                <mat-accordion>
                                    <mat-expansion-panel>
                                        <mat-expansion-panel-header>
                                            <mat-panel-title>
                                                adder.cpp
                                            </mat-panel-title>
                                        </mat-expansion-panel-header>
                                        <pre>
                                                <code>
    float add (float a, float b) &#123;
        return a+b;
    }
                                                </code>
                                            </pre>
                                    </mat-expansion-panel>
                                </mat-accordion>
                            </li>
                            <li>
                                <mat-accordion>
                                    <mat-expansion-panel>
                                        <mat-expansion-panel-header>
                                            <mat-panel-title>
                                                main.cpp
                                            </mat-panel-title>
                                        </mat-expansion-panel-header>
                                        <pre>
                                                <code>
    #include &lt;iostream>
    float add(float a, float b);
    
    int main()
    &#123;
        std::cout&lt;&lt;"Hello World!\n";
        std::cout&lt;&lt;add(1.2f, 2.3f)&lt;&lt;'\n';
        return 0;
    }
                                                </code>
                                            </pre>
                                    </mat-expansion-panel>
                                </mat-accordion>
                            </li>
                        </ul>
                    </mat-expansion-panel>
                </mat-accordion>
            </li>
        </ul>
        <li>You will notice that there is an error saying "cannot open source file iostream". This error is because
            Visual Studio Code doesn't know where to
            find those libraries. Hence, you need to "Ctrl + Shift + P", and select "C/C++: Edit Configurations(JSON)"
            or "C/C++: Edit Configurations(UI)"
        </li>
        <img style="width: 80%;" src="assets/images/LearningCMake/learningCMake02.JPG">
        <li>Then, we need to edit the c_cpp_properties.json file. If you have Visual Studio installed, supposedly you
            have the cl.exe compiler, then you need to modify
            the intelliSenseMode, so that your intelliSenseMode tally with the compiler you used. Other than that, you
            also need to include the urct libraries and
            VC basic libraries.
            <pre>
                    <code>
    &#123;
        "configurations": [
            &#123;
                "name": "Win32",
                "includePath": [
                    "$&#123;workspaceFolder}/**",
                    "C:/Program Files (x86)/Windows Kits/10/Include/10.0.10240.0/ucrt", // ucrt libraries such as stdio.h and stddef.h
                    "C:/Program Files (x86)/Microsoft Visual Studio 14.0/VC/include" // VC basic libraries such as stdint.h
                ],
                "defines": [
                    "_DEBUG",
                    "UNICODE",
                    "_UNICODE"
                ],
                "compilerPath": "C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\bin\\cl.exe",
                "cStandard": "c17",
                "cppStandard": "c++17",
                "intelliSenseMode": "windows-msvc-x64"
            }
        ],
        "version": 4
    }
                    </code>
                </pre>
        </li>
        <li>The content of CMakeLists.txt is quite straight forward:</li>
        <ul>
            <li>cmake_minimum_required is to set the minimum required version of cmake for your project.</li>
            <li>project() is to set your project name</li>
            <li>add_executable() is to define the source files needed for your target executable. In this example, our
                executable is our project name,
                and the source files needed for that executable are the main.cpp and adder.cpp
            </li>
        </ul>
        <li>Basically there are only 2 steps in CMake process:</li>
        <ul>
            <li>Generate build files</li>
            <li>Use the build files to build our project</li>
        </ul>
        <li>Generating build files</li>
        <ul>
            <li>First of all, run <span class="CLI-font">cmake --help</span> on your command prompt terminal, and then
                look at the "The generators available on this platform".</li>
            <li>Which means, you can generate different build files for different build platforms (such as Visual Studio
                14, Visual Studio 15, Make, Ninja, etc)</li>
            <li>I have Visual Studio 2015 installed, so I will use this Generator in this tutorial.</li>
            <li>I will change directory into this repo, and then use run the following commands to generate the build
                files in the build folder:</li>
            <ul>
                <li><span class="CLI-font">mkdir build</span></li>
                <li><span class="CLI-font">cd build</span></li>
                <li><span class="CLI-font">cmake ./.. -G "Visual Studio 14 2015 Win64"</span></li>
            </ul>
            <li>The "./.." is to define that our CMakeLists.txt is located one path above current path.</li>
            <img style="width: 80%;" src="assets/images/LearningCMake/learningCMake03.JPG">
            <li>Now supposedly you see some files in the "build" folder.</li>
            <li>If something wrong with your build, you simply delete the "build" folder and try again.</li>
        </ul>
        <li>Build the project</li>
        <ul>
            <li>To build the project, simply <span class="CLI-font">cmake --build [the directory of your build
                    files]</span></li>
            <ul>
                <li>For example: <span class="CLI-font">cmake --build .</span></li>
            </ul>
            <li>Then you will see learning_cmake.exe is generate in the Debug folder.</li>
            <img style="width: 80%;" src="assets/images/LearningCMake/learningCMake04.JPG">
            <li>Note that the name of this exe file is because of the add_executable() in CMakeLists.txt</li>
            <li>You might also notice that by default it is built for debug.</li>
            <li>To build for release:</li>
            <ul>
                <li><span class="CLI-font">cmake --build . --config release</span></li>
            </ul>
            <li>You can go into the folder and try to run the .exe file.</li>
            <img style="width: 80%;" src="assets/images/LearningCMake/learningCMake05.JPG">

        </ul>
    </ul>
    <mat-divider></mat-divider>


    <h2>02 - Implementing subpackage (our own library)</h2>
    <ul>
        <li>This section will show how can we compile our library (in this example, Adder) as subpackage, and link it to
            our main package.</li>
        <li>Add/Update your files/folders:</li>
        <ul>
            <li>
                <mat-accordion>
                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                CMakeLists.txt
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <pre>
                                  <code>
    cmake_minimum_required(VERSION 3.16.3)

    project(learning_cmake) # PROJECT_NAME
    
    add_executable($&#123;PROJECT_NAME} src/main.cpp)
    
    # add subdirectory which has its own CMakeLists.txt
    add_subdirectory(Adder)
    
    # link the adder library to target
    target_link_libraries($&#123;PROJECT_NAME} PUBLIC adder)
    
    # define the include path needed by target
    target_include_directories($&#123;PROJECT_NAME} PUBLIC
                                "$&#123;PROJECT_SOURCE_DIR}/Adder"
    )
                                  </code>
                              </pre>
                    </mat-expansion-panel>
                </mat-accordion>
            </li>
            <li>
                <mat-accordion>
                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                src
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <ul>
                            <li>
                                <mat-accordion>
                                    <mat-expansion-panel>
                                        <mat-expansion-panel-header>
                                            <mat-panel-title>
                                                main.cpp
                                            </mat-panel-title>
                                        </mat-expansion-panel-header>
                                        <pre>
                                                <code>
    #include &lt;iostream>
    float add(float a, float b);
    
    int main()
    &#123;
        std::cout&lt;&lt;"Hello World!\n";
        std::cout&lt;&lt;add(1.2f, 2.3f)&lt;&lt;'\n';
        return 0;
    }
                                                </code>
                                            </pre>
                                    </mat-expansion-panel>
                                </mat-accordion>
                            </li>
                        </ul>
                    </mat-expansion-panel>
                </mat-accordion>
            </li>
            <li>
                <mat-accordion>
                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                Adder
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <ul>
                            <li>
                                <mat-accordion>
                                    <mat-expansion-panel>
                                        <mat-expansion-panel-header>
                                            <mat-panel-title>
                                                adder.cpp
                                            </mat-panel-title>
                                        </mat-expansion-panel-header>
                                        <pre>
                                                <code>
    #include "adder.h"

    float add (float a, float b) &#123;
        return a+b;
    }
                                                </code>
                                            </pre>
                                    </mat-expansion-panel>
                                </mat-accordion>
                            </li>
                            <li>
                                <mat-accordion>
                                    <mat-expansion-panel>
                                        <mat-expansion-panel-header>
                                            <mat-panel-title>
                                                adder.h
                                            </mat-panel-title>
                                        </mat-expansion-panel-header>
                                        <pre>
                                              <code>
    #ifndef ADDER_H
    #define ADDER_H
    
    float add(float a, float b);
    
    #endif // ADDER_H
                                              </code>
                                          </pre>
                                    </mat-expansion-panel>
                                </mat-accordion>
                            </li>
                            <li>
                                <mat-accordion>
                                    <mat-expansion-panel>
                                        <mat-expansion-panel-header>
                                            <mat-panel-title>
                                                CMakeLists.txt
                                            </mat-panel-title>
                                        </mat-expansion-panel-header>
                                        <pre>
                                              <code>
    add_library(adder adder.cpp)
                                              </code>
                                          </pre>
                                    </mat-expansion-panel>
                                </mat-accordion>
                            </li>
                        </ul>
                    </mat-expansion-panel>
                </mat-accordion>
            </li>
        </ul>
        <li>In the CMakeLists.txt of the Adder folder, we only have one line.</li>
        <ul>
            <li>Previously we used "add_executable()" to generate .exe files, now we use "add_library()" to generate
                libraries.</li>
            <li>If you look at the <a href="https://cmake.org/cmake/help/latest/command/add_library.html"
                    target="_blank" rel="noopener noreferrer">
                    documentation</a>, you will notice that we can further define whether we want to build static
                library or dynamic library. But we
                not going to cover it here.</li>
            <li></li>
        </ul>
        <li>Let's delete the build folder, generate build files and build the project</li>
        <ul>
            <li><span class="CLI-font">rm -rf build</span></li>
            <li><span class="CLI-font">mkdir build</span></li>
            <li><span class="CLI-font">cd build</span></li>
            <li><span class="CLI-font">cmake ./.. -G "Visual Studio 14 2015 Win64"</span></li>
            <li><span class="CLI-font">cmake --build . --config release</span></li>
        </ul>
        <li>Before proceeding with further explanation, let's align that a <b>target</b> is referring to an executable
            or a library built by cmake.</li>
        <li>In the CMakeLists.txt of the main package:</li>
        <ul>
            <li>We use add_subdirectory() to include the entire Adder directory into our package</li>
            <li>We use target_link_libraries() to link the adder library to <b>our target</b></li>
            <li>We use target_include_directories() to include the header files into <b>our target</b>. This is why our
                main.cpp is able to include the adder.h</li>
        </ul>
        <li>include_directories vs target_include_directories</li>
        <ul>
            <li><b>include_directories()</b> affects directory scope, which means all subdirectories added after this
                line also will include the directories mentioned by include_directories</li>
            <li><b>target_include_directories()</b> has target scope only</li>
            <li>Generally target_include_directories should be preferred</li>
        </ul>
        <li><b>include_directories()</b> and <b>target_include_directories()</b> are for us to specify
            the directories that the compiler uses to look for include files (.h files).</li>
        <li><b>add_subdirectory</b> is for us to specify a subdirectory which has CMakeLists.txt and code files there.
        </li>
        <li>If you look at the build folder, you will see there is a "Adder" folder there. This means the
            "add_subdirectory" make it an independent sub-package.
        </li>
        <li>At the end of CMakeLists.txt, we added target_include_directories because our target (main.cpp)
            uses <span class="script-font">#include "adder.h"</span>. If we didnt specify where the include_directories
            are, the target wouldn't be able to find the adder.h IF THE HEADER IS NOT AT THE SAME DIRECTORY AS
            WHERE THE TARGET IS.
        </li>
        <li>The CMakeLists.txt of Adder doesnt need to have target_include_directories because the adder.h and adder.cpp
            are in the same directory. If you open a subfolder called "include" in the Adder folder, and move the
            adder.h
            file into it, you will have error ("Cannot open include file: 'adder.h': No such file or
            directory") when you try to compile the project.</li>
        <li>If you put the adder.h into a subdirectory called "include" in the Adder folder, you need to
            modify the CMakeLists.txt:</li>
        <ul>
            <li>
                <mat-accordion>
                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                Adder
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <ul>
                            <li>
                                <mat-accordion>
                                    <mat-expansion-panel>
                                        <mat-expansion-panel-header>
                                            <mat-panel-title>
                                                adder.cpp
                                            </mat-panel-title>
                                        </mat-expansion-panel-header>
                                        <pre>
                                                <code>
    #include "adder.h"

    float add (float a, float b) &#123;
        return a+b;
    }
                                                </code>
                                            </pre>
                                    </mat-expansion-panel>
                                </mat-accordion>
                            </li>
                            <li>
                                <mat-accordion>
                                    <mat-expansion-panel>
                                        <mat-expansion-panel-header>
                                            <mat-panel-title>
                                                include
                                            </mat-panel-title>
                                        </mat-expansion-panel-header>
                                        <ul>
                                            <li>
                                                <mat-accordion>
                                                    <mat-expansion-panel>
                                                        <mat-expansion-panel-header>
                                                            <mat-panel-title>
                                                                adder.h
                                                            </mat-panel-title>
                                                        </mat-expansion-panel-header>
                                                        <pre>
                                                            <code>
    #ifndef ADDER_H
    #define ADDER_H

    float add(float a, float b);

    #endif // ADDER_H
                                                            </code>
                                                        </pre>
                                                    </mat-expansion-panel>
                                                </mat-accordion>
                                            </li>
                                        </ul>
                                    </mat-expansion-panel>
                                </mat-accordion>
                            </li>
                            <li>
                                <mat-accordion>
                                    <mat-expansion-panel>
                                        <mat-expansion-panel-header>
                                            <mat-panel-title>
                                                CMakeLists.txt
                                            </mat-panel-title>
                                        </mat-expansion-panel-header>
                                        <pre>
                                              <code>
    add_library(adder adder.cpp)
    target_include_directories(adder PUBLIC "$&#123;CMAKE_CURRENT_SOURCE_DIR}/include")
                                              </code>
                                          </pre>
                                    </mat-expansion-panel>
                                </mat-accordion>
                            </li>
                        </ul>
                    </mat-expansion-panel>
                </mat-accordion>
            </li>
            <li>You will notice actually the "target_include_directories" of the top level CMakeLists.txt
                can be removed and it will still work. This is because of the "PUBLIC" keyword (in CMakeLists.txt
                of Adder) will populate the include directories to other targets that use this target. If you change the
                Keyword to "PRIVATE", then you will need that target_include_directories in top level CMakeLists.txt
                again.
            </li>
            <li>The PUBLIC/PRIVATE/INTERFACE keywords are needed for include_directories() and link_libraries(),
                here is a quick summary for these 3 keywords:
            </li>
            <table style="margin-top: 20px;">
                <tr>
                    <th>Keyword</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td>PUBLIC</td>
                    <td>All the objects/directories following PUBLIC will be used for the current target and the other
                        targets that have dependencies on the current target.</td>
                </tr>
                <tr>
                    <td>PRIVATE</td>
                    <td>All the objects/directories following PRIVATE will be used for the current target only.</td>
                </tr>
                <tr>
                    <td>INTERFACE</td>
                    <td>All the objects/directories following INTERFACE will NOT be used for the current target
                        but will be accessible for the other targets that have dependencies on the current target.</td>
                </tr>
            </table>
        </ul>
    </ul>
    <mat-divider></mat-divider>


    <h2>03 - Building shared library and Cross-Platform Handling</h2>
    <ul>
        <li>Edit adder.h and its CMakeLists.txt to handle cross platform usage</li>
                <mat-accordion>
                    <mat-expansion-panel>
                      <mat-expansion-panel-header>
                        <mat-panel-title>
                            Adder
                        </mat-panel-title>
                      </mat-expansion-panel-header>
                      <ul>
                          <li>
                            <mat-accordion>
                                <mat-expansion-panel>
                                  <mat-expansion-panel-header>
                                    <mat-panel-title>
                                        adder.h
                                    </mat-panel-title>
                                  </mat-expansion-panel-header>
                                  <pre>
                                      <code>
#ifndef ADDER_H
#define ADDER_H

#if defined (_MSC_VER)

#ifdef ADDER_STATIC
    #define ADDER_API
#else
    #ifdef ADDER_EXPORTS
        #define ADDER_API __declspec(dllexport)
    #else
        #define ADDER_API __declspec(dllimport)
    #endif
#endif

#else
#define ADDER_API
#endif


ADDER_API float add(float a, float b);

#endif // ADDER_H
                                      </code>
                                  </pre>
                                </mat-expansion-panel>
                            </mat-accordion>
                          </li>
                          <li>
                            <mat-accordion>
                                <mat-expansion-panel>
                                  <mat-expansion-panel-header>
                                    <mat-panel-title>
                                        CMakeLists.txt
                                    </mat-panel-title>
                                  </mat-expansion-panel-header>
                                  <pre>
                                      <code>
# reference: https://stackoverflow.com/questions/17511496/how-to-create-a-shared-library-with-cmake

cmake_minimum_required(VERSION 3.16.3)

project(adder VERSION 1.0.1 DESCRIPTION "adder library demo")

# reference: https://cgold.readthedocs.io/en/latest/tutorials/libraries/static-shared.html
# don't specify STATIC or SHARED if you are going to build both
add_library($&#123;PROJECT_NAME} adder.cpp)

# good practice
set_target_properties($&#123;PROJECT_NAME} PROPERTIES VERSION $&#123;PROJECT_VERSION})

# You can also set SOVERSION to a major number of VERSION. So libmylib.so.1 will be a symlink to libmylib.so.1.0.0.
set_target_properties($&#123;PROJECT_NAME} PROPERTIES SOVERSION 1)

# Declare public API of your library. This API will be installed for the third-party application.
set_target_properties($&#123;PROJECT_NAME} PROPERTIES PUBLIC_HEADER include/adder.h)

# To install (copy) the target files generated into CMAKE_BINARY_DIR
# User need to run: cmake --install [DIR] --confing [BUILD_TYPE]
# The [DIR] is the directory of where cmake_install.cmake is generated
# The [BUILD_TYPE] is either Debug or Release
if (BUILD_SHARED_LIBS)
if (CMAKE_GENERATOR MATCHES "Visual Studio")
    if (CMAKE_BUILD_TYPE MATCHES Debug)
        install(TARGETS $&#123;PROJECT_NAME} CONFIGURATIONS Debug DESTINATION $&#123;CMAKE_BINARY_DIR}/Debug)
    else()
        install(TARGETS $&#123;PROJECT_NAME} CONFIGURATIONS Release DESTINATION $&#123;CMAKE_BINARY_DIR}/Release)
    endif()
else()
    install(TARGETS $&#123;PROJECT_NAME} DESTINATION $&#123;CMAKE_BINARY_DIR})
endif()
endif ()

target_include_directories($&#123;PROJECT_NAME} PUBLIC "$&#123;CMAKE_CURRENT_SOURCE_DIR}/include")
                                      </code>
                                  </pre>
                                </mat-expansion-panel>
                            </mat-accordion>
                          </li>
                      </ul>
                    </mat-expansion-panel>
                </mat-accordion>
        <li>You also need to define the preprocessor definitions in your top level CMakeLissts.txt.
            Take note that I added them before add_subdirectory(Adder), so that the warning generated
            due to lacking of preprocessor definitiions can be suppressed. I also edited the main.cpp
            to validate the library that is used.
        </li>
            <ul>
                <li>
                    <mat-accordion>
                        <mat-expansion-panel>
                          <mat-expansion-panel-header>
                            <mat-panel-title>
                                CMakeLists.txt
                            </mat-panel-title>
                          </mat-expansion-panel-header>
                          <pre>
                              <code>
cmake_minimum_required(VERSION 3.16.3)

project(learning_cmake) # PROJECT_NAME

add_executable($&#123;PROJECT_NAME} src/main.cpp)

if (BUILD_SHARED_LIBS)
    #define preprocessor definition to use adder DLL
    add_compile_definitions("ADDER_EXPORTS")
else ()
    #additional preprocessor definition for static usage
    add_compile_definitions("ADDER_STATIC")
endif ()

# add subdirectory which has its own CMakeLists.txt
add_subdirectory(Adder)

# link the adder library to target
target_link_libraries($&#123;PROJECT_NAME} PUBLIC adder)
                              </code>
                          </pre>
                        </mat-expansion-panel>
                    </mat-accordion>
                </li>
                <li>
                    <mat-accordion>
                        <mat-expansion-panel>
                          <mat-expansion-panel-header>
                            <mat-panel-title>
                                src
                            </mat-panel-title>
                          </mat-expansion-panel-header>
                          <ul>
                              <li>
                                  <mat-accordion>
                                      <mat-expansion-panel>
                                        <mat-expansion-panel-header>
                                          <mat-panel-title>
                                              main.cpp
                                          </mat-panel-title>
                                        </mat-expansion-panel-header>
                                        <pre>
                                            <code>
#include &lt;iostream>
#include "adder.h"

int main()
&#123;
    #ifdef ADDER_STATIC
        std::cout&lt;&lt;"Using Static Library"&lt;&lt;'\n';
    #endif
    #ifdef ADDER_EXPORTS
        std::cout&lt;&lt;"Using Shared Library"&lt;&lt;'\n';
    #endif
    std::cout&lt;&lt;"Hello World!\n";
    std::cout&lt;&lt;add(1.2f, 2.3f)&lt;&lt;'\n';
    return 0;
}
                                            </code>
                                        </pre>
                                      </mat-expansion-panel>
                                  </mat-accordion>
                              </li>
                          </ul>
                        </mat-expansion-panel>
                    </mat-accordion>
                </li>
            </ul>
        <li>Using UnixMakeFiles on Windows Platform</li>
            <ul>
                <li>Run for static:
                    <ul>
                        <li><span class="CLI-font">cmake .. -B ./static_make -G "Unix Makefiles"</span></li>
                        <li><span class="CLI-font">cmake --build ./static_make</span></li>
                        <li><span class="CLI-font">cd static_make</span></li>
                        <li><span class="CLI-font">learning_cmake.exe</span></li>
                    </ul>
                </li>
                <li>Run for shared:
                    <ul>
                        <li><span class="CLI-font">cmake .. -B ./shared_make -G "Unix Makefiles" -DBUILD_SHARED_LIBS=ON</span></li>
                        <li><span class="CLI-font">cmake --build ./shared_make</span></li>
                        <li><span class="CLI-font">cmake --install ./shared_make</span></li>
                        <li><span class="CLI-font">cd shared_make</span></li>
                        <li><span class="CLI-font">learning_cmake.exe</span></li>
                    </ul>
                </li>
            </ul>
        <li>Using Visual Studio on Windows Platform</li>
            <ul>
                <li>Run for static (Debug):
                    <ul>
                        <li><span class="CLI-font">cmake .. -B ./static_vs -G "Visual Studio 14 2015 Win64"</span></li>
                        <li><span class="CLI-font">cmake --build ./static_vs</span></li>
                        <li><span class="CLI-font">cd static_vs\Debug</span></li>
                        <li><span class="CLI-font">learning_cmake.exe</span></li>
                    </ul>
                </li>
                <li>Run for shared (Debug):
                    <ul>
                        <li><span class="CLI-font">cmake .. -B ./shared_vs -G "Visual Studio 14 2015 Win64" -DCMAKE_BUILD_TYPE=Debug -DBUILD_SHARED_LIBS=ON</span></li>
                        <li><span class="CLI-font">cmake --build ./shared_vs --config Debug</span></li>
                        <li><span class="CLI-font">cmake --install ./shared_vs --config Debug</span></li>
                        <li><span class="CLI-font">cd shared_vs\Debug</span></li>
                        <li><span class="CLI-font">learning_cmake.exe</span></li>
                    </ul>
                </li>
                <li>Run for static (Release):
                    <ul>
                        <li><span class="CLI-font">cmake .. -B ./static_vs -G "Visual Studio 14 2015 Win64"</span></li>
                        <li><span class="CLI-font">cmake --build ./static_vs --config Release</span></li>
                        <li><span class="CLI-font">cd static_vs\Release</span></li>
                        <li><span class="CLI-font">learning_cmake.exe</span></li>
                    </ul>
                </li>
                <li>Run for shared (Release):
                    <ul>
                        <li>Take note that we specify the CMAKE_BUILD_TYPE here because we are using the same directory called shared_vs, which
                            previously we set the CMAKE_BUILD_TYPE to "Debug". Now if we dont specify it, it will use the value
                            in the cache which is "Debug".
                        </li>
                        <li><span class="CLI-font">cmake .. -B ./shared_vs -G "Visual Studio 14 2015 Win64" -DBUILD_SHARED_LIBS=ON -DCMAKE_BUILD_TYPE=Release</span></li>
                        <li><span class="CLI-font">cmake --build ./shared_vs --config Release</span></li>
                        <li><span class="CLI-font">cmake --install ./shared_vs --config Release</span></li>
                        <li><span class="CLI-font">cd shared_vs\Release</span></li>
                        <li><span class="CLI-font">learning_cmake.exe</span></li>
                    </ul>
                </li>
            </ul>
        <li>Cross-compile for Linux on Windows</li>
            <ul>
                <li>This will generate the libraries in .so format.</li>
                <li>You need to specify "set(CMAKE_SYSTEM_NAME Linux)" in your top level CMakeLists.txt.</li>
                <li>Then, run:</li>
                    <ul>
                        <li><span class="CLI-font">cmake .. -B ./cross_compile_Linux -G "Unix Makefiles" -DBUILD_SHARED_LIBS=ON</span></li>
                        <li><span class="CLI-font">cmake --build ./cross_compile_Linux</span></li>
                        <li><span class="CLI-font">cmake --install ./cross_compile_Linux</span></li>
                        <li><span class="CLI-font">cd cross_compile_Linux</span></li>
                        <li><span class="CLI-font">learning_cmake.exe</span></li>
                    </ul>
            </ul>
    </ul>
    <mat-divider></mat-divider>


    <h2>04 - Install</h2>
    <ul>
    </ul>
    <mat-divider></mat-divider>
</div>